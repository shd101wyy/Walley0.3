<h3>
This is a simple logic library
What I learnt from prolog
</h3>

事实， 规则， 目标
=================================================

事实:
	喜欢(小王, 小李)
规则:
	基友(X, Y):- 喜欢(X, Y), 喜欢(Y, X), 男的(X), 男的(Y)
目标:
	?-喜欢(小王， 小李) 小王喜欢小李吗
	?-喜欢(小王， X) return '(小李）

=================================================
In toy language

事实:
	(事实 '(喜欢 小王 小李)) ;; 添加 (喜欢 小王 小李) 到数据库
规则:

	(规则 '(基友 X Y) 
		  '(and
		  		(?- '(喜欢 X Y))
		  		(?- '(喜欢 Y X))
		  		(?- '(男的 X))
		  		(?- '(男的 Y)))
		:变量 '(X Y))

目标:
	(?- '(喜欢 小王 小李)) ;; 查询数据库 return true
	(?- '(喜欢 小王 X) :变量 '(X)) ;; 返回 '(小李)

=================================================

--------------------------------------------------
<h3>
	关于 事实 的一些问题
</h3>
问题1:
	如何储存 事实
	(def 事实数据库 {}) ;; key 是 谓语动词
					   ;; value 是 list
	(事实 '(喜欢 小王 小李)) ;; 这里 喜欢 是谓语动词
		;; 现在的事实数据库就变成了
			{
				"喜欢": '((小王 小李))
			}
	(事实 '(喜欢 小李 小王)) ;;
		;; 现在的数据库就变成了
			{
				"喜欢": '((小王 小李) (小李 小王))
			}
	再来两个事实
	(事实 '(男的 小王))
	(事实 '(男的 小李))
		;; 现在的数据库就变成了
			{
				"喜欢": '((小王 小李) (小李 小王)),
				"男的": '((小王)     (小李))
			}

问题2:
	如何检验事实
	eg:
		(事实 '(喜欢 小王 小李))
		(?- '(喜欢 小王 小李)) => true   这里调用判断事实函数
		(?- '(喜欢 小王 X) :变量 '(X)) => ({:X 小李})   这里调用 获取事实判断函数

---------------------------------------------------
<h3>
	关于 规则 的一些问题
</h3>
问题1:
	如何储存规则
	(def 规则数据库 {}) ;; key 是 目标谓语动词
	例如:
		(规则 '(基友 X Y) 
		  '(and
		  		(?- '(喜欢 X Y))
		  		(?- '(喜欢 Y X))
		  		(?- '(男的 X))
		  		(?- '(男的 Y)))
			:变量 '(X Y))

			里面的目标谓语动词就是 基友
问题2: 
	关于 规则数据库 value 的 数据形式

	{"基友":
		(value1, value2, ...)}
	这里的 value 我决定设计为
	value = 
		[
			(X Y)  ;;         # 1 目标虽提供结果变量。。。我也不知道怎么说就是 (基友 X Y) 里面的 (X Y)
			(and   ;;         # 2 储存 达成目标的条件
		  		(?- '(喜欢 X Y))
		  		(?- '(喜欢 Y X))
		  		(?- '(男的 X))
		  		(?- '(男的 Y)))
		  	(X Y) ;;          # 3 储存变量
			]

所以 
		(规则 '(基友 X Y) 
		  '(and
		  		(喜欢 X Y)
		  		(喜欢 Y X)
		  		(男的 X)
		  		(男的 Y))
			:变量 '(X Y))
		接着 规则数据库 会变为
		{"基友":
			([
				(X Y)  ;;         # 1 目标虽提供结果变量。。。我也不知道怎么说就是 (基友 X Y) 里面的 (X Y)
				(and   ;;         # 2 储存 达成目标的条件
			  		(?- '(喜欢 X Y))
			  		(?- '(喜欢 Y X))
			  		(?- '(男的 X))
			  		(?- '(男的 Y)))
			  	(X Y) ;;          # 3 储存变量
				])
			}

----------------------------------------
<h3> 关于 目标 的一些问题 </h3>
返回的几种情况
1）
	判定 Yes or No
	return 'true or ()

	eg
		(事实 '(喜欢 小王 小李))
		(?- '(喜欢 小王 小李)) => true
		(?- '(喜欢 小李 小王)) => ())
	
	假定 想要查询 (?- '(喜欢 小王 小李))
	#1 假设 在 规则数据库中 没有 喜欢 这个规则
		现在搜索 事实数据库
			{
				"喜欢": ((小李 小王) (小王 小李))
			}
		根据 "喜欢" 这一谓语动词找到
			((小李 小王) (小王 小李)) 这个list
	#2 
		一一检查匹对 (小王 小李) 与 ((小李 小王) (小王 小李))
			如果存在完全相同的 则 => true
						otherwise => ()



2)
	返回所有的可能性

	eg
		(规则 '(基友 X Y) ;; 定义 如果 X是男的, Y是男的, X喜欢Y, Y喜欢X, 那么 X和Y是基友。
			'(and
				(?- '(喜欢 X Y))
		  		(?- '(喜欢 Y X))
		  		(?- '(男的 X))
		  		(?- '(男的 Y)))
			:变量 '(X Y))

		(事实 '(男的 小李))
		(事实 '(男的 小王))
		(事实 '(喜欢 小李 小王))
		(事实 '(喜欢 小王 小李))

		# 	现在的 事实数据库
		{
			"喜欢": ((小李 小王) (小王 小李)) ,
			"男的": ((小李) (小王))
		}

		#   现在的 目标数据库
		{
			"基友":
				([(X Y)
				  (and
					(?- '(喜欢 X Y))
			  		(?- '(喜欢 Y X))
			  		(?- '(男的 X))
			  		(?- '(男的 Y)))
				  (X Y)])
		}


		没加变量意味着返回 true or false
			(?- (基友 小王 小李)) => true

		加变量了意味着返回 data 
		(?- (基友 小王 X) :变量 '(X)) =>  ({:X 小李})
		(?- (基友 X Y) :变量 '(X Y))  => ({:X 小李 :Y 小王},
										 {:X 小王 :Y 小李})


	#那么如何运行？
	-----------------------------------------------------------------
		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		假设想要运行 (?- (基友 小王 小李))

		#1 现在在 目标数据库中找到了 "基友" 这个 key
			得到了 value

				([(X Y)
				  (and
					(?- '(喜欢 X Y))
			  		(?- '(喜欢 Y X))
			  		(?- '(男的 X))
			  		(?- '(男的 Y)))
				  (X Y)], ...), 一个一个的check

		#2	一一匹对 得到 
				{
					X: 小王,
					Y: 小李
					}
		#3 根据匹对结果format 达成目标 的条件
			(and
				(?- '(喜欢 X Y))
		  		(?- '(喜欢 Y X))
		  		(?- '(男的 X))
		  		(?- '(男的 Y)))

		  	=>  这里调用 整理表达式
		  	(and 
		  		(?- '(喜欢 小王 小李))
		  		(?- '(喜欢 小李 小王))
		  		(?- '(男的 小王))
		  		(?- '(男的 小李)))

		#4
			运行
				(and
					(?- '(男的 小王))
					(?- '(男的 小李))
					(?- '(喜欢 小王 小李))
					(?- '(喜欢 小李 小王)))

		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		假设想要运行 (?- (基友 小王 X) :变量 '(X))

		#1








